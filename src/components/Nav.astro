---
import BaseLink from './BaseLink.astro';

const rawPath = Astro.url.pathname;
const currentPath = rawPath.replace(import.meta.env.BASE_URL, '/') || '/';

const links = [
  { href: '', label: 'Home', match: '/' },
  { href: 'blog/', label: 'Blog', match: '/blog/' },
  { href: 'about/', label: 'About', match: '/about/' },
];

function isActive(match: string) {
  return currentPath === match || currentPath.startsWith(match);
}
---

<nav class="flex items-center justify-between">
  <BaseLink href="" class="font-semibold">
    HanBin
  </BaseLink>

  <ul class="hidden sm:flex gap-4 text-sm">
    {links.map((link) => (
      <li>
        <BaseLink
          href={link.href}
          class={
            'hover:underline ' +
            (isActive(link.match) ? 'font-semibold' : 'text-zinc-400')
          }
        >
          {link.label}
        </BaseLink>
      </li>
    ))}
  </ul>

  <!-- TODO: Simple mobile version: stacked under nav -->
</nav>
